{"version":3,"sources":["common.js"],"names":["$","onBurgerClick","burger","submenu","hasClass","toggleClass","slideUp","slideDown","onControlDrag","values","storiesSlider","slick","Math","ceil","console","log","onSliderDrag","currentIndex","storiesHandler","noUiSlider","updateOptions","start","getButtonName","slides","buttons","each","i","slideName","eq","find","text","onSlideClick","evt","preventDefault","video","popup","img","attr","this","iziModal","play","onPopupClose","pause","onCrossClick","onVideoClick","paused","toggleControls","hasAttribute","removeAttribute","setAttribute","storiesSlides","transformSlider","speed","slidesToShow","slidesToScroll","dots","arrows","centerMode","infinite","responsive","breakpoint","settings","create","step","range","min","max","length","width","onClosed","transitionIn","transitionOut","on","document"],"mappings":"AAAA,YAAAA,GAAE,WAqED,QAASC,KACR,GAAMC,GAASF,EAAE,WACXG,EAAUH,EAAE,WACdE,GAAOE,SAAS,mBACnBF,EAAOG,YAAY,kBACnBF,EAAQG,QAAQ,OAEhBJ,EAAOG,YAAY,kBACnBF,EAAQI,UAAU,MAIpB,QAASC,GAAeC,GAEvBC,EAAcC,MAAM,OAAQC,KAAKC,KAAKJ,EAAO,KAC7CK,QAAQC,IAAI,WAAYH,KAAKC,KAAKJ,EAAO,KAI1C,QAASO,KACR,GAAMC,GAAeP,EAAcC,MAAM,oBAC7BX,GAAE,eACdkB,GAAe,GAAGC,WAAWC,eAC5BC,OAAQJ,KAIV,QAASK,KACR,GAAMC,GAASvB,EAAE,oBACXwB,EAAUxB,EAAE,wCAClBuB,GAAOE,KAAK,SAACC,GACZ,GAAMC,GAAYJ,EAAOK,GAAGF,GAAGG,KAAK,0BAA0BC,MAC9DN,GAAQI,GAAGF,GAAGI,KAAKH,KAmBrB,QAASI,GAAcC,GACtBA,EAAIC,gBACJ,IAAMC,GAAQC,EAAMN,KAAK,SACnBO,EAAMpC,EAAE,oBACdkC,GAAMG,KAAK,MAAX,UAA4BrC,EAAEsC,MAAMT,KAAKO,GAAKC,KAAK,WAAnD,QACEF,EAAMI,SAAS,QACfL,EAAM,GAAGM,OAGZ,QAASC,KACRN,EAAMN,KAAK,iBAAiB,GAAGa,QAGhC,QAASC,KACRR,EAAMI,SAAS,SAGhB,QAASK,KACRN,KAAKO,OAASP,KAAKE,OAASF,KAAKI,QAGlC,QAASI,KACJR,KAAKS,aAAa,YAChBT,KAAKU,gBAAgB,YAErBV,KAAKW,aAAa,WAAY,YA/IrC,GAAMvC,GAAgBV,EAAE,oBAClBkB,EAAiBlB,EAAE,qBACnBkD,EAAgBlD,EAAE,mBAClBmD,EAAkBnD,EAAE,sBACpBmC,EAAQnC,EAAE,SAEhBU,GAAcC,OACbyC,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,MAAM,EACJC,QAAQ,EACRC,YAAY,EACZC,UAAU,EAEZC,aAECC,WAAY,KACZC,UACGR,aAAc,EACdC,eAAgB,KAInBM,WAAY,IACZC,UACCR,aAAc,EACdC,eAAgB,KAIhBM,WAAY,IACZC,UACER,aAAc,EACdC,eAAgB,EAChBG,YAAY,OAIhBN,EAAgBxC,OAChB+C,UAAU,EACVN,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,MAAM,EACJC,QAAQ,EAEVG,aAECC,WAAY,IACZC,UACCN,MAAM,OAKRpC,WAAW2C,OAAO5C,EAAe,IAChCG,OAAQ,GACR0C,KAAM,EACPC,OACCC,KAAQ,GACRC,KAAQhB,EAAciB,OAAS,MAyCjC7C,IASAtB,EAAE,UAAUuC,UACX6B,MAAO,IACPC,SAAU5B,EACV6B,aAAc,SACZC,cAAe,YAgClBvE,EAAE,YAAYwE,GAAG,QAAS1B,GAE1B9C,EAAEyE,UAAUD,GAAG,QAAS,QAAS5B,GACjC5C,EAAEyE,UAAUD,GAAG,QAAS,gBAAiB7B,GACzC3C,EAAEyE,UAAUD,GAAG,QAAS,kBAAmBzC,GAC3C/B,EAAE,WAAWwE,GAAG,QAASvE,GACzBiB,EAAe,GAAGC,WAAWqD,GAAG,SAAUhE,GAC1CE,EAAc8D,GAAG,QAASxD","file":"../sources/common.js","sourcesContent":["$(function() {\r\n\r\n\tconst storiesSlider = $('.stories__slider');\r\n\tconst storiesHandler = $('.stories__control');\r\n\tconst storiesSlides = $('.stories__slide');\r\n\tconst transformSlider = $('.transform__slider');\r\n\tconst popup = $('#popup');\r\n\r\n\tstoriesSlider.slick({\r\n\t\tspeed: 500,\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tdots: false,\r\n    arrows: false,\r\n    centerMode: true,\r\n    infinite: true,\r\n    \r\n\t\tresponsive: [\r\n\t\t{\r\n\t\t\tbreakpoint: 1200,\r\n\t\t\tsettings: {\r\n      slidesToShow: 3,\r\n      slidesToScroll: 1\r\n    }\r\n  },\r\n  {\r\n  \tbreakpoint: 768,\r\n  \tsettings: {\r\n  \t\tslidesToShow: 2,\r\n  \t\tslidesToScroll: 1\r\n  \t}\r\n  },\r\n  {\r\n    breakpoint: 480,\r\n    settings: {\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1,\r\n      centerMode: true,\r\n    }\r\n  }]});\r\n\r\n  transformSlider.slick({\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tdots: true,\r\n    arrows: true,\r\n\r\n\t\tresponsive: [\r\n\t\t{\r\n\t\t\tbreakpoint: 768,\r\n\t\t\tsettings: {\r\n\t\t\t\tdots: false\r\n\t\t\t}\r\n  \t}]\r\n\t});\r\n\r\n  noUiSlider.create(storiesHandler[0], {\r\n  \tstart: [0],\r\n  \tstep: 1,\r\n\t\trange: {\r\n\t\t\t'min': [0],\r\n\t\t\t'max': [storiesSlides.length - 1]\r\n\t\t}\r\n\t});\r\n\r\n\r\n\r\n\tfunction onBurgerClick () {\r\n\t\tconst burger = $('.burger');\r\n\t\tconst submenu = $('.submenu');\r\n\t\tif (burger.hasClass('burger--active')) {\r\n\t\t\tburger.toggleClass('burger--active');\r\n\t\t\tsubmenu.slideUp(250);\r\n\t\t} else {\r\n\t\t\tburger.toggleClass('burger--active');\r\n\t\t\tsubmenu.slideDown(250);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onControlDrag (values) {\r\n\t\t\r\n\t\tstoriesSlider.slick('goTo', Math.ceil(values[0]));\r\n\t\tconsole.log(\"handle: \", Math.ceil(values[0]));\r\n\t\t//console.log(\"storiesSlider: \", storiesSlider.slick('getSlick'));\r\n\t}\r\n\r\n\tfunction onSliderDrag () {\r\n\t\tconst currentIndex = storiesSlider.slick('slickCurrentSlide');\r\n\t\tconst pin = $('.noUi-handle');\r\n\t\tstoriesHandler[0].noUiSlider.updateOptions({\r\n\t\t\tstart: [currentIndex]\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getButtonName () {\r\n\t\tconst slides = $('.transform-slide');\r\n\t\tconst buttons = $('.transform__slider .slick-dots button');\r\n\t\tslides.each((i) => {\r\n\t\t\tconst slideName = slides.eq(i).find('.transform-slide__name').text();\r\n\t\t\tbuttons.eq(i).text(slideName);\r\n\t\t})\r\n\t}\r\n\tgetButtonName();\r\n\r\n\t/*function onPreviewClick () {\r\n\t\tconst popup = $('.popup');\r\n\t\tconst video = popup.find('video');\r\n\t\tvideo.find('source').attr('src', $(this).attr('data-id'));\r\n\t\tvideo[0].play();\r\n\t}*/\r\n\r\n\t$(\"#popup\").iziModal({\r\n\t\twidth: 960,\r\n\t\tonClosed: onPopupClose,\r\n\t\ttransitionIn: 'fadeIn',\r\n    transitionOut: 'fadeOut'\r\n\t});\r\n\r\n\tfunction onSlideClick (evt) {\r\n\t\tevt.preventDefault();\r\n\t\tconst video = popup.find('video');\r\n\t\tconst img = $('.stories__preview');\r\n\t\tvideo.attr('src', `/video/${$(this).find(img).attr('data-id')}.mp4`);\r\n    popup.iziModal('open');\r\n    video[0].play();\r\n\t}\r\n\r\n\tfunction onPopupClose () {\r\n\t\tpopup.find('.popup__video')[0].pause();\r\n\t}\r\n\r\n\tfunction onCrossClick () {\r\n\t\tpopup.iziModal('close');\r\n\t}\r\n\r\n\tfunction onVideoClick () {\r\n\t\tthis.paused ? this.play() : this.pause();\r\n\t}\r\n\r\n\tfunction toggleControls() {\r\n\t\tif (this.hasAttribute(\"controls\")) {\r\n        this.removeAttribute(\"controls\")\r\n    } else {\r\n        this.setAttribute(\"controls\", \"controls\")\r\n    }\r\n  }\r\n\r\n\t$('#myvideo').on('hover', toggleControls);\r\n\r\n\t$(document).on('click', 'video', onVideoClick);\r\n\t$(document).on('click', '.popup__close', onCrossClick);\r\n\t$(document).on('click', '.stories__slide', onSlideClick);\r\n\t$('.burger').on('click', onBurgerClick);\r\n\tstoriesHandler[0].noUiSlider.on('update', onControlDrag);\r\n\tstoriesSlider.on('swipe', onSliderDrag);\r\n\t/*$('.stories__preview').on('click', onPreviewClick);*/\r\n})"]}