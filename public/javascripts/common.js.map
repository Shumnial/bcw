{"version":3,"sources":["common.js"],"names":["$","onBurgerClick","burger","menu","hasClass","toggleClass","slideUp","slideDown","onControlDrag","values","storiesSlider","slick","Math","ceil","onSliderDrag","currentIndex","storiesHandler","noUiSlider","updateOptions","start","getButtonName","slides","buttons","each","i","slideName","eq","find","text","onSlideClick","evt","preventDefault","video","popup","img","attr","this","iziModal","play","onPopupClose","pause","onCrossClick","onVideoClick","paused","toggleControls","hasAttribute","removeAttribute","setAttribute","scrollHandler","videoBlock","player","videoPosition","offset","top","scrollTop","window","storiesSlides","transformSlider","speed","slidesToShow","slidesToScroll","dots","arrows","centerMode","infinite","waitForAnimate","centerPadding","responsive","breakpoint","settings","create","step","range","min","max","length","width","onClosed","transitionIn","transitionOut","document","on","hover"],"mappings":"AAAA,YAAAA,GAAE,WAuED,QAASC,KACR,GAAMC,GAASF,EAAE,WACXG,EAAOH,EAAE,aACXE,GAAOE,SAAS,mBACnBF,EAAOG,YAAY,kBACnBF,EAAKG,QAAQ,OAEbJ,EAAOG,YAAY,kBACnBF,EAAKI,UAAU,MAIjB,QAASC,GAAeC,GACvBC,EAAcC,MAAM,OAAQC,KAAKC,KAAKJ,EAAO,KAG9C,QAASK,KACR,GAAMC,GAAeL,EAAcC,MAAM,oBAC7BX,GAAE,eACdgB,GAAe,GAAGC,WAAWC,eAC5BC,OAAQJ,KAIV,QAASK,KACR,GAAMC,GAASrB,EAAE,oBACXsB,EAAUtB,EAAE,wCAClBqB,GAAOE,KAAK,SAACC,GACZ,GAAMC,GAAYJ,EAAOK,GAAGF,GAAGG,KAAK,0BAA0BC,MAC9DN,GAAQI,GAAGF,GAAGI,KAAKH,KAmBrB,QAASI,GAAcC,GACtBA,EAAIC,gBACJ,IAAMC,GAAQC,EAAMN,KAAK,SACnBO,EAAMlC,EAAE,oBACdgC,GAAMG,KAAK,MAAX,SAA2BnC,EAAEoC,MAAMT,KAAKO,GAAKC,KAAK,WAAlD,QACEF,EAAMI,SAAS,QACfL,EAAM,GAAGM,OAGZ,QAASC,KACRN,EAAMN,KAAK,iBAAiB,GAAGa,QAGhC,QAASC,KACRR,EAAMI,SAAS,SAGhB,QAASK,KACRN,KAAKO,OAASP,KAAKE,OAASF,KAAKI,QAGlC,QAASI,KACJR,KAAKS,aAAa,YAChBT,KAAKU,gBAAgB,YAErBV,KAAKW,aAAa,WAAY,YAIpC,QAASH,KACHR,KAAKS,aAAa,YAClBT,KAAKU,gBAAgB,YAErBV,KAAKW,aAAa,WAAY,YAIrC,QAASC,KACR,GAAMC,GAAajD,EAAE,iBACfkD,EAASlD,EAAEiD,GAAYtB,KAAK,cAC5BwB,EAAgBF,EAAWG,SAASC,IAAM,EAC1CC,EAAYtD,EAAEuD,QAAQD,WAExBA,GAAYH,GACbnD,EAAEkD,GAAQ,GAAGZ,OAjKjB,GAAM5B,GAAgBV,EAAE,oBAClBgB,EAAiBhB,EAAE,qBACnBwD,EAAgBxD,EAAE,mBAClByD,EAAkBzD,EAAE,sBACpBiC,EAAQjC,EAAE,SAEhBU,GAAcC,OACb+C,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,MAAM,EACJC,QAAQ,EACRC,YAAY,EACZC,UAAU,EACVC,gBAAgB,EAChBC,cAAe,MAEjBC,aAECC,WAAY,KACZC,UACGV,aAAc,EACdC,eAAgB,KAInBQ,WAAY,IACZC,UACCV,aAAc,EACdC,eAAgB,KAIhBQ,WAAY,IACZC,UACEV,aAAc,EACdC,eAAgB,EAChBG,YAAY,OAIhBN,EAAgB9C,OAChBqD,UAAU,EACVN,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,MAAM,EACJC,QAAQ,EAEVK,aAECC,WAAY,IACZC,UACCR,MAAM,OAKR5C,WAAWqD,OAAOtD,EAAe,IAChCG,OAAQ,GACRoD,KAAM,EACPC,OACCC,KAAQ,GACRC,KAAQlB,EAAcmB,OAAS,MAsCjCvD,IASApB,EAAE,UAAUqC,UACXuC,MAAO,IACPC,SAAUtC,EACVuC,aAAc,SACZC,cAAe,YAmDlB/E,EAAEgF,UAAUC,GAAG,QAAS,QAASvC,GACjC1C,EAAEgF,UAAUC,GAAG,QAAS,gBAAiBxC,GACzCzC,EAAEgF,UAAUC,GAAG,QAAS,kBAAmBpD,GAC3C7B,EAAE,WAAWiF,GAAG,QAAShF,GACzBe,EAAe,GAAGC,WAAWgE,GAAG,SAAUzE,GAC1CE,EAAcuE,GAAG,QAASnE,GAC1Bd,EAAE,cAAckF,MAAMtC,GACtB5C,EAAEgF,UAAUC,GAAG,SAAUjC","file":"../sources/common.js","sourcesContent":["$(function() {\r\n\r\n\tconst storiesSlider = $('.stories__slider');\r\n\tconst storiesHandler = $('.stories__control');\r\n\tconst storiesSlides = $('.stories__slide');\r\n\tconst transformSlider = $('.transform__slider');\r\n\tconst popup = $('#popup');\r\n\r\n\tstoriesSlider.slick({\r\n\t\tspeed: 200,\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tdots: false,\r\n    arrows: false,\r\n    centerMode: true,\r\n    infinite: true,\r\n    waitForAnimate: false,\r\n    centerPadding: '0px',\r\n    \r\n\t\tresponsive: [\r\n\t\t{\r\n\t\t\tbreakpoint: 1200,\r\n\t\t\tsettings: {\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1\r\n    }\r\n  },\r\n  {\r\n  \tbreakpoint: 768,\r\n  \tsettings: {\r\n  \t\tslidesToShow: 1,\r\n  \t\tslidesToScroll: 1\r\n  \t}\r\n  },\r\n  {\r\n    breakpoint: 480,\r\n    settings: {\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1,\r\n      centerMode: true,\r\n    }\r\n  }]});\r\n\r\n  transformSlider.slick({\r\n\t\tinfinite: false,\r\n\t\tspeed: 300,\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tdots: true,\r\n    arrows: true,\r\n\r\n\t\tresponsive: [\r\n\t\t{\r\n\t\t\tbreakpoint: 768,\r\n\t\t\tsettings: {\r\n\t\t\t\tdots: false\r\n\t\t\t}\r\n  \t}]\r\n\t});\r\n\r\n  noUiSlider.create(storiesHandler[0], {\r\n  \tstart: [0],\r\n  \tstep: 1,\r\n\t\trange: {\r\n\t\t\t'min': [0],\r\n\t\t\t'max': [storiesSlides.length - 1]\r\n\t\t}\r\n\t});\r\n\r\n\r\n\r\n\tfunction onBurgerClick () {\r\n\t\tconst burger = $('.burger');\r\n\t\tconst menu = $('.nav__menu');\r\n\t\tif (burger.hasClass('burger--active')) {\r\n\t\t\tburger.toggleClass('burger--active');\r\n\t\t\tmenu.slideUp(250);\r\n\t\t} else {\r\n\t\t\tburger.toggleClass('burger--active');\r\n\t\t\tmenu.slideDown(250)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onControlDrag (values) {\r\n\t\tstoriesSlider.slick('goTo', Math.ceil(values[0]));\r\n\t}\r\n\r\n\tfunction onSliderDrag () {\r\n\t\tconst currentIndex = storiesSlider.slick('slickCurrentSlide');\r\n\t\tconst pin = $('.noUi-handle');\r\n\t\tstoriesHandler[0].noUiSlider.updateOptions({\r\n\t\t\tstart: [currentIndex]\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getButtonName () {\r\n\t\tconst slides = $('.transform-slide');\r\n\t\tconst buttons = $('.transform__slider .slick-dots button');\r\n\t\tslides.each((i) => {\r\n\t\t\tconst slideName = slides.eq(i).find('.transform-slide__name').text();\r\n\t\t\tbuttons.eq(i).text(slideName);\r\n\t\t})\r\n\t}\r\n\tgetButtonName();\r\n\r\n\t/*function onPreviewClick () {\r\n\t\tconst popup = $('.popup');\r\n\t\tconst video = popup.find('video');\r\n\t\tvideo.find('source').attr('src', $(this).attr('data-id'));\r\n\t\tvideo[0].play();\r\n\t}*/\r\n\r\n\t$(\"#popup\").iziModal({\r\n\t\twidth: 960,\r\n\t\tonClosed: onPopupClose,\r\n\t\ttransitionIn: 'fadeIn',\r\n    transitionOut: 'fadeOut'\r\n\t});\r\n\r\n\tfunction onSlideClick (evt) {\r\n\t\tevt.preventDefault();\r\n\t\tconst video = popup.find('video');\r\n\t\tconst img = $('.stories__preview');\r\n\t\tvideo.attr('src', `video/${$(this).find(img).attr('data-id')}.mp4`);\r\n    popup.iziModal('open');\r\n    video[0].play();\r\n\t}\r\n\r\n\tfunction onPopupClose () {\r\n\t\tpopup.find('.popup__video')[0].pause();\r\n\t}\r\n\r\n\tfunction onCrossClick () {\r\n\t\tpopup.iziModal('close');\r\n\t}\r\n\r\n\tfunction onVideoClick () {\r\n\t\tthis.paused ? this.play() : this.pause();\r\n\t}\r\n\r\n\tfunction toggleControls() {\r\n\t\tif (this.hasAttribute(\"controls\")) {\r\n        this.removeAttribute(\"controls\")\r\n    } else {\r\n        this.setAttribute(\"controls\", \"controls\")\r\n    }\r\n  }\r\n\r\n  function toggleControls() {\r\n    if (this.hasAttribute(\"controls\")) {\r\n        this.removeAttribute(\"controls\")\r\n    } else {\r\n        this.setAttribute(\"controls\", \"controls\")\r\n    }\r\n  }\r\n\r\n\tfunction scrollHandler () {\r\n\t\tconst videoBlock = $('.about__video');\r\n\t\tconst player = $(videoBlock).find('#bcw-video');\r\n\t\tconst videoPosition = videoBlock.offset().top / 2;\r\n\t\tconst scrollTop = $(window).scrollTop();\r\n\r\n\t\tif (scrollTop > videoPosition) {\r\n\t\t\t\t $(player)[0].play();\r\n\t\t}\r\n\t}\r\n\r\n\t$(document).on('click', 'video', onVideoClick);\r\n\t$(document).on('click', '.popup__close', onCrossClick);\r\n\t$(document).on('click', '.stories__slide', onSlideClick);\r\n\t$('.burger').on('click', onBurgerClick);\r\n\tstoriesHandler[0].noUiSlider.on('update', onControlDrag);\r\n\tstoriesSlider.on('swipe', onSliderDrag);\r\n\t$('#bcw-video').hover(toggleControls);\r\n\t$(document).on('scroll', scrollHandler);\r\n})"]}